{"version":3,"sources":["config/firebase.jsx","context/AuthService.jsx","components/LoggedinRoute.jsx","pages/Login.jsx","components/Item.jsx","components/Check.jsx","components/List.jsx","components/Form.jsx","pages/Room.jsx","pages/Signup.jsx","App.jsx","index.jsx"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","AuthContext","createContext","AuthProvider","children","useState","user","setUser","useEffect","onAuthStateChanged","Provider","value","LoggedinRoute","Component","component","otherProps","useContext","render","props","to","useStyles","makeStyles","title","color","form","display","flexDirection","justifyContent","width","height","margin","Login","email","setEmail","password","setPassword","classes","history","useHistory","onSubmit","e","preventDefault","signInWithEmailAndPassword","then","response","push","catch","error","console","className","TextField","label","variant","onChange","target","type","Button","budget","padding","Item","deleteItem","log","createdAt","toDate","Card","Typography","name","toString","expensive","onClick","id","Check","expenseTotal","map","parseInt","reduce","acc","cur","medicalExpense","Number","List","setBudget","collection","orderBy","onSnapshot","querySnapshot","data","docs","doc","delete","Form","figure","setFigure","add","displayName","Date","Input","Room","signOut","Signup","username","setUsername","createUserWithEmailAndPassword","updateProfile","App","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.2a6370e7.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\nimport \"firebase/auth\"\nimport \"firebase/firestore\"\n\n const firebaseConfig = {\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: \"budgetbookapp.firebaseapp.com\",\n    projectId: \"budgetbookapp\",\n    storageBucket: \"budgetbookapp.appspot.com\",\n    messagingSenderId: \"90737617013\",\n    appId: \"1:90737617013:web:e6d559bb5e7559786df03c\",\n    measurementId: \"G-VKXR6CW0QJ\"\n  };\n  // Initialize Firebase\n  firebase.initializeApp(firebaseConfig);\nexport default firebase\nexport const auth = firebase.auth();\nexport const db = firebase.firestore();","import React, {createContext, useState, useEffect } from 'react';\nimport { auth } from '../config/firebase';\n\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({children}) => {\n    const [user, setUser] = useState(null);\n\n    useEffect(() => {\n        auth.onAuthStateChanged(user => {\n            setUser(user);\n        });\n    }, []);\n\n\n\nreturn (\n<AuthContext.Provider value={user}>{children}</AuthContext.Provider>\n    )\n};\nexport { AuthContext, AuthProvider };","import React, {useContext} from \"react\";\nimport {Route, Redirect} from \"react-router-dom\";\nimport {AuthContext} from \"../context/AuthService\";\n\nconst LoggedinRoute = ({component: Component, ...otherProps}) => {\n    const user = useContext(AuthContext);\nreturn (\n<Route  {...otherProps} render={(props) => user ? <Component {...props} />: <Redirect to='/login' />}/>\n);\n};\nexport default LoggedinRoute;","import React, { useState } from 'react';\nimport {auth} from \"../config/firebase\";\nimport {makeStyles} from '@material-ui/core/styles';\nimport {Button,TextField} from '@material-ui/core';\nimport { Link, useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles({\n    title: {\n        color: 'red',\n    },\n    form: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        width: '60%',\n        height: '400px',\n        margin: '0 auto',\n    },\n});\n\nconst Login = () => {\nconst [email, setEmail] = useState('');\nconst [password, setPassword] = useState('');\nconst classes = useStyles()\nconst history = useHistory()\n\nconst handleSubmit = (e) => {\n    e.preventDefault();\n    auth.signInWithEmailAndPassword(email, password)\n        .then((response)=>{\n            history.push('/');\n        })\n        .catch((error)=>{\n            console.error(\"ERR\", error)\n        })\n};\nreturn (\n    <form onSubmit={handleSubmit} className={classes.form}>\n        <h1 className={classes.title}>Login</h1>\n        <TextField \n        label=\"emailadress\" \n        variant=\"filled\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n         />\n        <TextField\n        type=\"password\" \n        label=\"password\" \n        variant=\"outlined\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n         />\n        <Button type=\"submit\" variant=\"contained\" color=\"secondary\">Login</Button>\n        <Link to='/signup'>Don't you have an account?</Link>\n    </form>\n    );\n};\n\nexport default Login;","import React from 'react';\n\nimport {Card, Typography} from '@material-ui/core';\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n    budget: {\n        padding: \"0px\",\n        margin: \"5px\",\n    },\n    });\n    \nconst Item = ({budget, deleteItem }) => {\n    const handleClick = () => {\n        deleteItem(budget.id);\n    };\n    const classes = useStyles();\n    console.log(budget.createdAt.toDate); \n    return(\n        <Card key={budget.id} className={classes.budget}>\n                <Typography>wtitten by: {budget.name}, date: {budget.createdAt.toDate().toString()} </Typography>\n                <Typography>expense: {budget.expensive}yen</Typography> \n                <button onClick={handleClick} type=\"button\">delete</button>                   \n        </Card>\n    );\n};\n\nexport default Item;","import React from 'react';\n\nconst Check = ({budget}) => {\nconst expenseAmount = budget.map(budget => parseInt(budget.expensive));\nconst expenseTotal = expenseAmount.reduce((acc, cur) => acc += cur,0);\nconst medicalExpense = Number(expenseTotal);\n\nreturn (\n<>\n    <div className=\"check\">\n    <h3>Your　medical expense Total  {Number(expenseTotal)}yen</h3>\n    <h3>Are you eligible for medical expense deduction?  \n    { medicalExpense >= 100000 ? <span>Yes</span> : <span>No</span> }\n    </h3>\n    </div>\n</> \n);       \n};\n\nexport default Check;\n","import React,{ useEffect, useState } from 'react';\nimport { db } from '../config/firebase';\nimport Item from './Item';\nimport Check from './Check';\n\nconst List = () => {\n    const [budget, setBudget] = useState([]); \n    useEffect(() => {\n        db.collection('budget').orderBy('createdAt').onSnapshot((querySnapshot) => {\n            const data = querySnapshot.docs.map((doc) => {\n                return { ...doc.data(), id: doc.id };\n                });\n                setBudget(data);    \n        });\n    },[]);\n    const deleteItem = (id) => {\n        db.collection('budget').doc(id).delete().then(function() {\n            console.log(\"Document successfully deleted!\");\n        }).catch(function(error) {\n            console.error(\"Error removing document: \", error);    \n        });\n    }\n    return (\n    <>\n        {budget.map((budget) => {\n            return (<Item key={budget.id} budget={budget} deleteItem={deleteItem} />\n            );\n        })}\n        <Check budget={budget} />\n    </>\n    );\n};\n\nexport default List;\n","import React,{ useState, useContext } from 'react';\nimport {AuthContext} from '../context/AuthService';\nimport {db} from '../config/firebase';\n\nimport { Button , Input } from \"@material-ui/core\";\n\n/*データベースではユーザー名をuser,費用をexpense,と設定する*/\nconst Form = () => {\n    //費用をかく欄にしたいのでbadgetを設定しこれを費用として表示させる\n    const [figure, setFigure] = useState(0);\n    const user = useContext(AuthContext);\n   \n    const handleSubmit = (e) => {\n    e.preventDefault();\n    db.collection('budget')\n    .add({\n        expensive: figure,\n        name: user.displayName,\n        createdAt: new Date(),\n    })\n    .then(() => {\n        setFigure(0);\n    });\n    };\n\n    return (\n        <div className=\"form-wrapper\">\n        <form onSubmit={handleSubmit}>\n            <div className=\"input-wrapper\">\n            <Input \n            type=\"number\"\n            value={figure} \n            onChange={(e) => setFigure(e.target.value)} \n            />\n            </div>\n            <Button type=\"submit\" variant=\"contained\" color=\"secondary\">Send</Button>\n        </form>\n        </div>\n    );\n};\nexport default Form;\n\n\n\n\n","import React from 'react';\nimport {auth} from \"../config/firebase\"\n\nimport List from '../components/List';\nimport Form from '../components/Form';\nimport {Button} from \"@material-ui/core\";\n\nimport '../App.css';\nconst Room = () => {\nconst signout = () => {\n    auth.signOut();\n};\n\nreturn (\n    <>\n    <div className=\"container\">\n        <div className=\"app-wrapper\">\n        <div className=\"header\">   \n            <h1>Medical Expense</h1>\n        </div>\n            <List />\n            <Form />\n            <div className=\"logout-button\">\n            <Button onClick={signout} variant='contained'>Logout</Button>\n            </div>\n        </div>\n    </div>\n    </>\n    );\n};\nexport default Room;","import React, { useState } from 'react';\nimport {Link} from 'react-router-dom';\nimport {auth} from \"../config/firebase\";\nimport {makeStyles} from '@material-ui/core/styles';\nimport {Button, TextField} from '@material-ui/core';\n\nconst useStyles = makeStyles({\n    title: {\n        color: \"Blue\"\n    },\n    form: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        flexDirection: \"column\",\n        width: \"60%\",\n        height: \"400px\",\n        margin: \"0 auto\"\n    }\n})\n\nconst Signup = () => {\n    const [username, setUsername] = useState(\"\")\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const classes = useStyles()\n\n    const handleSubmit= (e) => {\n        e.preventDefault();\n        auth.createUserWithEmailAndPassword(email, password)\n        .then((response) => {\n            console.log('ok', response);\n            response.user.updateProfile({\n                displayName: username,\n            })\n        })\n        .catch((error) => {\n            console.error(\"ERR\", error)\n        })\n    }\nreturn (\n    <form onSubmit={handleSubmit} className={classes.form}>\n        <h1 className={classes.title}>Signup</h1>\n        <TextField \n        label=\"username\" \n        variant=\"outlined\"\n        value={username}\n        onChange={(e) => setUsername(e.target.value)} \n        />\n        <TextField \n        label=\"emailadress\" \n        variant=\"filled\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n         />\n        <TextField\n        type=\"password\" \n        label=\"password\" \n        variant=\"outlined\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n         />\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\">登録</Button>\n        <Link to='login'>Jump to　Login page</Link>\n    </form>\n)\n};\n\nexport default Signup;","import React from 'react';\n\nimport {BrowserRouter, Switch, Route} from \"react-router-dom\";\nimport {AuthProvider} from './context/AuthService';\nimport LoggedinRoute from './components/LoggedinRoute';\nimport Login from './pages/Login';\nimport Room from './pages/Room';\nimport Signup from './pages/Signup';\n\n\nconst App = () => {\n    return (\n        <AuthProvider>\n        <BrowserRouter>\n        <Switch>\n            <LoggedinRoute exact path=\"/\" component={Room} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/signup\" component={Signup} />\n        \n        </Switch>\n        </BrowserRouter>\n        </AuthProvider>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n     document.getElementById('root')\n    )\n"],"sourceRoot":""}